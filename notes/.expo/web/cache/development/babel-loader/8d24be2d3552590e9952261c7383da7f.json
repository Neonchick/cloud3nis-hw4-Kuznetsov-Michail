{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = _regeneratorRuntime.mark(doFetch);\n\nvar END_POINT = 'http://localhost:3000';\nexport function doFetch(_ref) {\n  var method, url, data, fullPath, response;\n  return _regeneratorRuntime.wrap(function doFetch$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          method = _ref.method, url = _ref.url, data = _ref.data;\n          fullPath = END_POINT + url;\n          _context.prev = 2;\n          console.log('dofetch');\n          console.log(data);\n          console.log(JSON.stringify(data));\n          _context.next = 8;\n          return fetch(fullPath, {\n            method: method,\n            body: JSON.stringify(data)\n          });\n\n        case 8:\n          response = _context.sent;\n          _context.next = 11;\n          return response.json();\n\n        case 11:\n          response = _context.sent;\n          return _context.abrupt(\"return\", {\n            data: response\n          });\n\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](2);\n          return _context.abrupt(\"return\", _context.t0);\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[2, 15]]);\n}","map":{"version":3,"sources":["C:/source/HSE/Cross-PlatformApps/cloud3nis-hw4-Kuznetsov-Michail/notes/src/lib/do-fetch.js"],"names":["doFetch","END_POINT","method","url","data","fullPath","console","log","JSON","stringify","fetch","body","response","json"],"mappings":";;uCAEiBA,O;;AAFjB,IAAMC,SAAS,GAAG,uBAAlB;AAEA,OAAO,SAAUD,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACHE,UAAAA,MADG,QACHA,MADG,EAEHC,GAFG,QAEHA,GAFG,EAGHC,IAHG,QAGHA,IAHG;AAMGC,UAAAA,QANH,GAMcJ,SAAS,GAAGE,GAN1B;AAAA;AASCG,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAZ;AAXD;AAYgB,iBAAMM,KAAK,CAACL,QAAD,EAAW;AACjCH,YAAAA,MAAM,EAAEA,MADyB;AAEjCS,YAAAA,IAAI,EAAEH,IAAI,CAACC,SAAL,CAAeL,IAAf;AAF2B,WAAX,CAAX;;AAZhB;AAYKQ,UAAAA,QAZL;AAAA;AAgBY,iBAAMA,QAAQ,CAACC,IAAT,EAAN;;AAhBZ;AAgBCD,UAAAA,QAhBD;AAAA,2CAkBQ;AAACR,YAAAA,IAAI,EAAEQ;AAAP,WAlBR;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["const END_POINT = 'http://localhost:3000';\r\n\r\nexport function* doFetch({\r\n    method,\r\n    url,\r\n    data,\r\n                         })\r\n{\r\n    const fullPath = END_POINT + url;\r\n\r\n    try {\r\n        console.log('dofetch')\r\n        console.log(data)\r\n        console.log(JSON.stringify(data))\r\n        let response = yield fetch(fullPath, {\r\n            method: method,\r\n            body: JSON.stringify(data)\r\n        });\r\n        response = yield response.json()\r\n\r\n        return {data: response};\r\n    } catch (error) {\r\n        return error;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}